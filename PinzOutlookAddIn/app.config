<?xml version="1.0" encoding="utf-8"?>
<configuration>
  <configSections>
    <sectionGroup name="common">
      <section name="logging" type="Common.Logging.ConfigurationSectionHandler, Common.Logging" />
    </sectionGroup>
    <section name="nlog" type="NLog.Config.ConfigSectionHandler, NLog" />
  </configSections>
  <common>
    <logging>
      <factoryAdapter type="Common.Logging.NLog.NLogLoggerFactoryAdapter, Common.Logging.NLog41">
        <arg key="configType" value="INLINE" />
      </factoryAdapter>
    </logging>
  </common>
 
  <nlog xmlns="http://www.nlog-project.org/schemas/NLog.xsd" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" internalLogFile="nlog.ERRORS.txt" internalLogLevel="Error">
    <targets>
      <!-- add your targets here -->
      <target xsi:type="File" name="log" keepFileOpen="true" fileName="${basedir}/log_${date:format=yyyyMMdd}.txt" layout="${longdate} ${level:uppercase=true:padding=5} - ${logger:shortName=true} - ${message} ${exception:format=tostring}" />
      <target name="log_errors_memory" xsi:type="Memory" layout="${longdate} ${level:uppercase=true:padding=5} - ${logger:shortName=true} - ${message} ${exception:format=tostring}" />
      <target name="log_all_memory" xsi:type="Memory" layout="${longdate} ${level:uppercase=true:padding=5} - ${logger:shortName=true} - ${message} ${exception:format=tostring}" />
    </targets>

    <rules>
      <!-- add your logging rules here -->
      <logger name="*" minlevel="Trace" writeTo="log" />
      <logger name="*" minlevel="Trace" writeTo="log_all_memory" />
      <logger name="*" minlevel="Error" writeTo="log_errors_memory" />
    </rules>
  </nlog>
  <runtime>
    <legacyUnhandledExceptionPolicy enabled="1" />
    <assemblyBinding xmlns="urn:schemas-microsoft-com:asm.v1">
      <dependentAssembly>
        <assemblyIdentity name="Microsoft.Practices.Prism.SharedInterfaces" publicKeyToken="31bf3856ad364e35" culture="neutral" />
        <bindingRedirect oldVersion="0.0.0.0-1.1.1.0" newVersion="1.1.1.0" />
      </dependentAssembly>
      <dependentAssembly>
        <assemblyIdentity name="Microsoft.Practices.ServiceLocation" publicKeyToken="31bf3856ad364e35" culture="neutral" />
        <bindingRedirect oldVersion="0.0.0.0-1.3.0.0" newVersion="1.3.0.0" />
      </dependentAssembly>
      <dependentAssembly>
        <assemblyIdentity name="Castle.Core" publicKeyToken="407dd0808d44fbdc" culture="neutral" />
        <bindingRedirect oldVersion="0.0.0.0-3.3.0.0" newVersion="3.3.0.0" />
      </dependentAssembly>
      <dependentAssembly>
        <assemblyIdentity name="NLog" publicKeyToken="5120e14c03d0593c" culture="neutral" />
        <bindingRedirect oldVersion="0.0.0.0-4.0.0.0" newVersion="4.0.0.0" />
      </dependentAssembly>
      <dependentAssembly>
        <assemblyIdentity name="AutoMapper" publicKeyToken="be96cd2c38ef1005" culture="neutral" />
        <bindingRedirect oldVersion="0.0.0.0-5.0.2.0" newVersion="5.0.2.0" />
      </dependentAssembly>
    </assemblyBinding>
  </runtime>
  <system.serviceModel>
    <behaviors>
      <endpointBehaviors>
        <behavior name="NoCLRCheck">
          <clientCredentials>
            <serviceCertificate>
              <authentication certificateValidationMode="None" />
            </serviceCertificate>
          </clientCredentials>
        </behavior>
      </endpointBehaviors>
    </behaviors>
    <bindings>
      <wsHttpBinding>
        <binding name="WSHttpBinding_Message_UserName">
          <security>
            <message clientCredentialType="UserName" />
          </security>
        </binding>

      </wsHttpBinding>
    </bindings>
    <client>
      <endpoint address="http://pinzservicewe.cloudapp.net/AdministrationService.svc/service" binding="wsHttpBinding" bindingConfiguration="WSHttpBinding_Message_UserName" behaviorConfiguration="NoCLRCheck" contract="AdministrationServiceReference.IAdministrationService" name="IAdministrationService">
        <identity>
          <certificate encodedValue="AwAAAAEAAAAUAAAA0B24umRzL8c0N6Vmk36Ldx3uCeMgAAAAAQAAAF8FAAAwggVbMIIEQ6ADAgECAhADRdKCyDiGq8bueUU8MuFyMA0GCSqGSIb3DQEBCwUAMH0xCzAJBgNVBAYTAkdCMRswGQYDVQQIExJHcmVhdGVyIE1hbmNoZXN0ZXIxEDAOBgNVBAcTB1NhbGZvcmQxGjAYBgNVBAoTEUNPTU9ETyBDQSBMaW1pdGVkMSMwIQYDVQQDExpDT01PRE8gUlNBIENvZGUgU2lnbmluZyBDQTAeFw0xNjA4MTIwMDAwMDBaFw0xNzA4MTIyMzU5NTlaMIGhMQswCQYDVQQGEwJTSzEOMAwGA1UEEQwFMDQwMDExFTATBgNVBAgMDEtvc2lja3kga3JhajEPMA0GA1UEBwwGS29zaWNlMRowGAYDVQQJDBFIYXZpYXJza2EgMTY5Ny8xMjEeMBwGA1UECgwVUElOWm9ubGluZS5jb20gcy5yLm8uMR4wHAYDVQQDDBVQSU5ab25saW5lLmNvbSBzLnIuby4wggEiMA0GCSqGSIb3DQEBAQUAA4IBDwAwggEKAoIBAQDltcMZOeAYxc+hfXlYm+ZbpHgdnKuUolm3n2YwyjzhMUwMuWR3ST58/EBriBJnBITIVVRb7lujecEKXIzTe7XKIoURAMi/pAJZEmxJghotCXnPuI/EtfCDCsEAjMfw2AjUBSNwEoXkgu5bZxel7KPMECYvFGm/Vriz1q29/LrfUkaBPxKNt6+pMJp8JdCv7cQpgzNYDAAxT6duH4rc2Sl1XBKOyKUV+pEgHdPK/ho3On26kt6Q94gL2sr2dVjyv3nm5WzttrubY6JSajgoExlFZpDPYOxXWmqUId2IiXdoKt15lzlkK4A/3qVgM/DSJZpA0Q8fmykvyfxtO1wWesA9AgMBAAGjggGwMIIBrDAfBgNVHSMEGDAWgBQpkWD/ik366/mmarjP+eZLvUnOEjAdBgNVHQ4EFgQUoHB656dyMiyt33MBKumKUxsfwZswDgYDVR0PAQH/BAQDAgeAMAwGA1UdEwEB/wQCMAAwEwYDVR0lBAwwCgYIKwYBBQUHAwMwEQYJYIZIAYb4QgEBBAQDAgQQMEYGA1UdIAQ/MD0wOwYMKwYBBAGyMQECAQMCMCswKQYIKwYBBQUHAgEWHWh0dHBzOi8vc2VjdXJlLmNvbW9kby5uZXQvQ1BTMEMGA1UdHwQ8MDowOKA2oDSGMmh0dHA6Ly9jcmwuY29tb2RvY2EuY29tL0NPTU9ET1JTQUNvZGVTaWduaW5nQ0EuY3JsMHQGCCsGAQUFBwEBBGgwZjA+BggrBgEFBQcwAoYyaHR0cDovL2NydC5jb21vZG9jYS5jb20vQ09NT0RPUlNBQ29kZVNpZ25pbmdDQS5jcnQwJAYIKwYBBQUHMAGGGGh0dHA6Ly9vY3NwLmNvbW9kb2NhLmNvbTAhBgNVHREEGjAYgRZjb250YWN0QHBpbnpvbmxpbmUuY29tMA0GCSqGSIb3DQEBCwUAA4IBAQAhJg+il3+d8sMp9EC1G6AKuDl7aGbb+CiCet4zoqPPHsJANYLyH6lDRgJvH9tZw8eiUHifCvTK595wCiZooLS+pK//Sdor3MI7KNgA4Y9e1YhBF+S0HR3VLIvdtKk7Z/zjyPOfLMHIcWopU3xhJ5vYe0J4VLsFXJ1/bzltiLuUEFO5+W2JSferiqYjfc6XxNu+7wSXqUkQwx7WOUkSK5vPCg6fq27nX21MlKm6kr833N3TBfrPmO5EcS8Fco6hNheJ3ag12kw9JZ/pPMXF7AF+6ehmi6i2v++wFyGubDa1nfNj2La3nwXGffimqW/UPs4ZJ6KYI0FD9fAj7N42p72A" />
        </identity>
      </endpoint>
      <endpoint address="http://pinzservicewe.cloudapp.net/AuthorisationService.svc/service" binding="wsHttpBinding" bindingConfiguration="WSHttpBinding_Message_UserName" behaviorConfiguration="NoCLRCheck" contract="AuthorisationServiceReference.IAuthorisationService" name="IAuthorisationService">
        <identity>
          <certificate encodedValue="AwAAAAEAAAAUAAAA0B24umRzL8c0N6Vmk36Ldx3uCeMgAAAAAQAAAF8FAAAwggVbMIIEQ6ADAgECAhADRdKCyDiGq8bueUU8MuFyMA0GCSqGSIb3DQEBCwUAMH0xCzAJBgNVBAYTAkdCMRswGQYDVQQIExJHcmVhdGVyIE1hbmNoZXN0ZXIxEDAOBgNVBAcTB1NhbGZvcmQxGjAYBgNVBAoTEUNPTU9ETyBDQSBMaW1pdGVkMSMwIQYDVQQDExpDT01PRE8gUlNBIENvZGUgU2lnbmluZyBDQTAeFw0xNjA4MTIwMDAwMDBaFw0xNzA4MTIyMzU5NTlaMIGhMQswCQYDVQQGEwJTSzEOMAwGA1UEEQwFMDQwMDExFTATBgNVBAgMDEtvc2lja3kga3JhajEPMA0GA1UEBwwGS29zaWNlMRowGAYDVQQJDBFIYXZpYXJza2EgMTY5Ny8xMjEeMBwGA1UECgwVUElOWm9ubGluZS5jb20gcy5yLm8uMR4wHAYDVQQDDBVQSU5ab25saW5lLmNvbSBzLnIuby4wggEiMA0GCSqGSIb3DQEBAQUAA4IBDwAwggEKAoIBAQDltcMZOeAYxc+hfXlYm+ZbpHgdnKuUolm3n2YwyjzhMUwMuWR3ST58/EBriBJnBITIVVRb7lujecEKXIzTe7XKIoURAMi/pAJZEmxJghotCXnPuI/EtfCDCsEAjMfw2AjUBSNwEoXkgu5bZxel7KPMECYvFGm/Vriz1q29/LrfUkaBPxKNt6+pMJp8JdCv7cQpgzNYDAAxT6duH4rc2Sl1XBKOyKUV+pEgHdPK/ho3On26kt6Q94gL2sr2dVjyv3nm5WzttrubY6JSajgoExlFZpDPYOxXWmqUId2IiXdoKt15lzlkK4A/3qVgM/DSJZpA0Q8fmykvyfxtO1wWesA9AgMBAAGjggGwMIIBrDAfBgNVHSMEGDAWgBQpkWD/ik366/mmarjP+eZLvUnOEjAdBgNVHQ4EFgQUoHB656dyMiyt33MBKumKUxsfwZswDgYDVR0PAQH/BAQDAgeAMAwGA1UdEwEB/wQCMAAwEwYDVR0lBAwwCgYIKwYBBQUHAwMwEQYJYIZIAYb4QgEBBAQDAgQQMEYGA1UdIAQ/MD0wOwYMKwYBBAGyMQECAQMCMCswKQYIKwYBBQUHAgEWHWh0dHBzOi8vc2VjdXJlLmNvbW9kby5uZXQvQ1BTMEMGA1UdHwQ8MDowOKA2oDSGMmh0dHA6Ly9jcmwuY29tb2RvY2EuY29tL0NPTU9ET1JTQUNvZGVTaWduaW5nQ0EuY3JsMHQGCCsGAQUFBwEBBGgwZjA+BggrBgEFBQcwAoYyaHR0cDovL2NydC5jb21vZG9jYS5jb20vQ09NT0RPUlNBQ29kZVNpZ25pbmdDQS5jcnQwJAYIKwYBBQUHMAGGGGh0dHA6Ly9vY3NwLmNvbW9kb2NhLmNvbTAhBgNVHREEGjAYgRZjb250YWN0QHBpbnpvbmxpbmUuY29tMA0GCSqGSIb3DQEBCwUAA4IBAQAhJg+il3+d8sMp9EC1G6AKuDl7aGbb+CiCet4zoqPPHsJANYLyH6lDRgJvH9tZw8eiUHifCvTK595wCiZooLS+pK//Sdor3MI7KNgA4Y9e1YhBF+S0HR3VLIvdtKk7Z/zjyPOfLMHIcWopU3xhJ5vYe0J4VLsFXJ1/bzltiLuUEFO5+W2JSferiqYjfc6XxNu+7wSXqUkQwx7WOUkSK5vPCg6fq27nX21MlKm6kr833N3TBfrPmO5EcS8Fco6hNheJ3ag12kw9JZ/pPMXF7AF+6ehmi6i2v++wFyGubDa1nfNj2La3nwXGffimqW/UPs4ZJ6KYI0FD9fAj7N42p72A" />
        </identity>
      </endpoint>
      <endpoint address="http://pinzservicewe.cloudapp.net/PinzAdminService.svc/service" binding="wsHttpBinding" bindingConfiguration="WSHttpBinding_Message_UserName" behaviorConfiguration="NoCLRCheck" contract="PinzAdminServiceReference.IPinzAdminService" name="IPinzAdminService">
        <identity>
          <certificate encodedValue="AwAAAAEAAAAUAAAA0B24umRzL8c0N6Vmk36Ldx3uCeMgAAAAAQAAAF8FAAAwggVbMIIEQ6ADAgECAhADRdKCyDiGq8bueUU8MuFyMA0GCSqGSIb3DQEBCwUAMH0xCzAJBgNVBAYTAkdCMRswGQYDVQQIExJHcmVhdGVyIE1hbmNoZXN0ZXIxEDAOBgNVBAcTB1NhbGZvcmQxGjAYBgNVBAoTEUNPTU9ETyBDQSBMaW1pdGVkMSMwIQYDVQQDExpDT01PRE8gUlNBIENvZGUgU2lnbmluZyBDQTAeFw0xNjA4MTIwMDAwMDBaFw0xNzA4MTIyMzU5NTlaMIGhMQswCQYDVQQGEwJTSzEOMAwGA1UEEQwFMDQwMDExFTATBgNVBAgMDEtvc2lja3kga3JhajEPMA0GA1UEBwwGS29zaWNlMRowGAYDVQQJDBFIYXZpYXJza2EgMTY5Ny8xMjEeMBwGA1UECgwVUElOWm9ubGluZS5jb20gcy5yLm8uMR4wHAYDVQQDDBVQSU5ab25saW5lLmNvbSBzLnIuby4wggEiMA0GCSqGSIb3DQEBAQUAA4IBDwAwggEKAoIBAQDltcMZOeAYxc+hfXlYm+ZbpHgdnKuUolm3n2YwyjzhMUwMuWR3ST58/EBriBJnBITIVVRb7lujecEKXIzTe7XKIoURAMi/pAJZEmxJghotCXnPuI/EtfCDCsEAjMfw2AjUBSNwEoXkgu5bZxel7KPMECYvFGm/Vriz1q29/LrfUkaBPxKNt6+pMJp8JdCv7cQpgzNYDAAxT6duH4rc2Sl1XBKOyKUV+pEgHdPK/ho3On26kt6Q94gL2sr2dVjyv3nm5WzttrubY6JSajgoExlFZpDPYOxXWmqUId2IiXdoKt15lzlkK4A/3qVgM/DSJZpA0Q8fmykvyfxtO1wWesA9AgMBAAGjggGwMIIBrDAfBgNVHSMEGDAWgBQpkWD/ik366/mmarjP+eZLvUnOEjAdBgNVHQ4EFgQUoHB656dyMiyt33MBKumKUxsfwZswDgYDVR0PAQH/BAQDAgeAMAwGA1UdEwEB/wQCMAAwEwYDVR0lBAwwCgYIKwYBBQUHAwMwEQYJYIZIAYb4QgEBBAQDAgQQMEYGA1UdIAQ/MD0wOwYMKwYBBAGyMQECAQMCMCswKQYIKwYBBQUHAgEWHWh0dHBzOi8vc2VjdXJlLmNvbW9kby5uZXQvQ1BTMEMGA1UdHwQ8MDowOKA2oDSGMmh0dHA6Ly9jcmwuY29tb2RvY2EuY29tL0NPTU9ET1JTQUNvZGVTaWduaW5nQ0EuY3JsMHQGCCsGAQUFBwEBBGgwZjA+BggrBgEFBQcwAoYyaHR0cDovL2NydC5jb21vZG9jYS5jb20vQ09NT0RPUlNBQ29kZVNpZ25pbmdDQS5jcnQwJAYIKwYBBQUHMAGGGGh0dHA6Ly9vY3NwLmNvbW9kb2NhLmNvbTAhBgNVHREEGjAYgRZjb250YWN0QHBpbnpvbmxpbmUuY29tMA0GCSqGSIb3DQEBCwUAA4IBAQAhJg+il3+d8sMp9EC1G6AKuDl7aGbb+CiCet4zoqPPHsJANYLyH6lDRgJvH9tZw8eiUHifCvTK595wCiZooLS+pK//Sdor3MI7KNgA4Y9e1YhBF+S0HR3VLIvdtKk7Z/zjyPOfLMHIcWopU3xhJ5vYe0J4VLsFXJ1/bzltiLuUEFO5+W2JSferiqYjfc6XxNu+7wSXqUkQwx7WOUkSK5vPCg6fq27nX21MlKm6kr833N3TBfrPmO5EcS8Fco6hNheJ3ag12kw9JZ/pPMXF7AF+6ehmi6i2v++wFyGubDa1nfNj2La3nwXGffimqW/UPs4ZJ6KYI0FD9fAj7N42p72A" />
        </identity>
      </endpoint>
      <endpoint address="http://pinzservicewe.cloudapp.net/TaskService.svc/service" binding="wsHttpBinding" bindingConfiguration="WSHttpBinding_Message_UserName" behaviorConfiguration="NoCLRCheck" contract="TaskServiceReference.ITaskService" name="ITaskService">
        <identity>
          <certificate encodedValue="AwAAAAEAAAAUAAAA0B24umRzL8c0N6Vmk36Ldx3uCeMgAAAAAQAAAF8FAAAwggVbMIIEQ6ADAgECAhADRdKCyDiGq8bueUU8MuFyMA0GCSqGSIb3DQEBCwUAMH0xCzAJBgNVBAYTAkdCMRswGQYDVQQIExJHcmVhdGVyIE1hbmNoZXN0ZXIxEDAOBgNVBAcTB1NhbGZvcmQxGjAYBgNVBAoTEUNPTU9ETyBDQSBMaW1pdGVkMSMwIQYDVQQDExpDT01PRE8gUlNBIENvZGUgU2lnbmluZyBDQTAeFw0xNjA4MTIwMDAwMDBaFw0xNzA4MTIyMzU5NTlaMIGhMQswCQYDVQQGEwJTSzEOMAwGA1UEEQwFMDQwMDExFTATBgNVBAgMDEtvc2lja3kga3JhajEPMA0GA1UEBwwGS29zaWNlMRowGAYDVQQJDBFIYXZpYXJza2EgMTY5Ny8xMjEeMBwGA1UECgwVUElOWm9ubGluZS5jb20gcy5yLm8uMR4wHAYDVQQDDBVQSU5ab25saW5lLmNvbSBzLnIuby4wggEiMA0GCSqGSIb3DQEBAQUAA4IBDwAwggEKAoIBAQDltcMZOeAYxc+hfXlYm+ZbpHgdnKuUolm3n2YwyjzhMUwMuWR3ST58/EBriBJnBITIVVRb7lujecEKXIzTe7XKIoURAMi/pAJZEmxJghotCXnPuI/EtfCDCsEAjMfw2AjUBSNwEoXkgu5bZxel7KPMECYvFGm/Vriz1q29/LrfUkaBPxKNt6+pMJp8JdCv7cQpgzNYDAAxT6duH4rc2Sl1XBKOyKUV+pEgHdPK/ho3On26kt6Q94gL2sr2dVjyv3nm5WzttrubY6JSajgoExlFZpDPYOxXWmqUId2IiXdoKt15lzlkK4A/3qVgM/DSJZpA0Q8fmykvyfxtO1wWesA9AgMBAAGjggGwMIIBrDAfBgNVHSMEGDAWgBQpkWD/ik366/mmarjP+eZLvUnOEjAdBgNVHQ4EFgQUoHB656dyMiyt33MBKumKUxsfwZswDgYDVR0PAQH/BAQDAgeAMAwGA1UdEwEB/wQCMAAwEwYDVR0lBAwwCgYIKwYBBQUHAwMwEQYJYIZIAYb4QgEBBAQDAgQQMEYGA1UdIAQ/MD0wOwYMKwYBBAGyMQECAQMCMCswKQYIKwYBBQUHAgEWHWh0dHBzOi8vc2VjdXJlLmNvbW9kby5uZXQvQ1BTMEMGA1UdHwQ8MDowOKA2oDSGMmh0dHA6Ly9jcmwuY29tb2RvY2EuY29tL0NPTU9ET1JTQUNvZGVTaWduaW5nQ0EuY3JsMHQGCCsGAQUFBwEBBGgwZjA+BggrBgEFBQcwAoYyaHR0cDovL2NydC5jb21vZG9jYS5jb20vQ09NT0RPUlNBQ29kZVNpZ25pbmdDQS5jcnQwJAYIKwYBBQUHMAGGGGh0dHA6Ly9vY3NwLmNvbW9kb2NhLmNvbTAhBgNVHREEGjAYgRZjb250YWN0QHBpbnpvbmxpbmUuY29tMA0GCSqGSIb3DQEBCwUAA4IBAQAhJg+il3+d8sMp9EC1G6AKuDl7aGbb+CiCet4zoqPPHsJANYLyH6lDRgJvH9tZw8eiUHifCvTK595wCiZooLS+pK//Sdor3MI7KNgA4Y9e1YhBF+S0HR3VLIvdtKk7Z/zjyPOfLMHIcWopU3xhJ5vYe0J4VLsFXJ1/bzltiLuUEFO5+W2JSferiqYjfc6XxNu+7wSXqUkQwx7WOUkSK5vPCg6fq27nX21MlKm6kr833N3TBfrPmO5EcS8Fco6hNheJ3ag12kw9JZ/pPMXF7AF+6ehmi6i2v++wFyGubDa1nfNj2La3nwXGffimqW/UPs4ZJ6KYI0FD9fAj7N42p72A" />
        </identity>
      </endpoint>
    </client>
  </system.serviceModel>
</configuration>